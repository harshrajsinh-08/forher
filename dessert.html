<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dessert</title>
    <link rel="stylesheet" href="css/dessert.css" />
  </head>
  <body>
    <iframe src="audio.html" style="display: none;" id="audio-frame"></iframe>
    <div id="dessertquestion">Which dessert we eatin cuh</div>

    <div class="dessert-selection">
      <div class="dessert-item">
        <img src="food/smoothie.jpeg" alt="smoothie" onclick="toggleCheckbox(this)" />
        <label><input type="checkbox" name="dessert" value="smoothie" /> smoothie</label>
      </div>
      <div class="dessert-item">
        <img src="food/coffee.jpeg" alt="Coffee" onclick="toggleCheckbox(this)" />
        <label><input type="checkbox" name="dessert" value="coffee" /> coffee</label>
      </div>
      <div class="dessert-item">
        <img src="food/milkshake.jpg" alt="milkshake" onclick="toggleCheckbox(this)" />
        <label><input type="checkbox" name="dessert" value="milkshake" /> Milkshake</label>
      </div>
      <div class="dessert-item">
        <img src="food/waffle.jpeg" alt="Waffle" onclick="toggleCheckbox(this)" />
        <label><input type="checkbox" name="dessert" value="waffle" /> Waffle</label>
      </div>
    </div>
    <button class="button" onclick="location.href='activities.html'">
      Continue :>
    </button>

    <script>
      function toggleCheckbox(imgElement) {
        const checkbox = imgElement.nextElementSibling.querySelector('input[type="checkbox"]');
        checkbox.checked = !checkbox.checked;
      }

      const dessertInputs = document.querySelectorAll("input[name='dessert']");
      const button = document.querySelector(".button");
      button.addEventListener("click", () => {
        const selectedDessert = Array.from(dessertInputs)
          .filter((input) => input.checked)
          .map((input) => input.value)
          .join(", ");
        localStorage.setItem("selectedDessert", selectedDessert || "None");
        window.location.href = "activities.html";
      });
    </script>
  </body>
</html>